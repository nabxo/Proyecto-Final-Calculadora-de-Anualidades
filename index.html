<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Anualidades Simples | Proyecto Final</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <div class="container">
        <h1>Calculadora de Anualidades Simples, Creado por Nabila M. Cabrera Castillo #100614124</h1>
        <p>Herramienta diseñada para calcular cualquier variable en anualidades simples (vencidas y anticipadas).</p>

        <div class="selection-group">
            <label for="tipoAnualidad">Tipo de Anualidad:</label>
            <select id="tipoAnualidad" onchange="resetForm()">
                <option value="vencida">Vencida (Ordinaria)</option>
                <option value="anticipada">Anticipada</option>
            </select>
        </div>

        <div class="selection-group">
            <label for="variableACalcular">Calcular:</label>
            <select id="variableACalcular" onchange="toggleInputs()">
                <option value="F">Monto (F)</option>
                <option value="P">Valor Actual (P)</option>
                <option value="R">Renta (R)</option>
                <option value="n">Número de Períodos (n)</option>
            </select>
        </div>

        <div id="formulario" class="card">
            <h2>Ingreso de Datos</h2>
            <div class="input-grid">
                <div class="input-item" id="inputR">
                    <label for="R">Renta (R)</label>
                    <input type="number" id="R" step="any" required>
                </div>
                <div class="input-item" id="inputi">
                    <label for="i">Tasa por Período (i) - decimal</label>
                    <input type="number" id="i" step="0.0001" required>
                    <small>Ej: 1% mensual se ingresa como 0.01</small>
                </div>
                <div class="input-item" id="inputn">
                    <label for="n">No. de Períodos (n)</label>
                    <input type="number" id="n" step="1" required>
                </div>
                <div class="input-item hidden" id="inputF">
                    <label for="F">Monto (F)</label>
                    <input type="number" id="F" step="any">
                    <small>Necesario para calcular R o n.</small>
                </div>
                <div class="input-item hidden" id="inputP">
                    <label for="P">Valor Actual (P)</label>
                    <input type="number" id="P" step="any">
                    <small>Necesario para calcular R o n.</small>
                </div>
            </div>
            <button onclick="calcularAnualidad()">Calcular</button>
        </div>
        
        <div id="resultado" class="card result-box hidden">
            <h2>Resultado</h2>
            <p id="resultadoTexto"></p>
        </div>
        
        <div class="documentation">
            <a href="#glosario">Glosario de Términos</a> | 
            <a href="#formulas">Tabla de Fórmulas</a>
        </div>
    </div>
    
    <div class="container documentation-section">
        
        <h2 id="instrucciones"> Instrucciones de Uso</h2>
        <ul>
            <li>**Paso 1:** Seleccione el **Tipo de Anualidad** (Vencida o Anticipada).</li>
            <li>**Paso 2:** Seleccione la **Variable a Calcular** (F, P, R, o n).</li>
            <li>**Paso 3:** Ingrese los valores de las variables restantes. Los campos necesarios aparecerán automáticamente.</li>
            <li>**Paso 4:** Haga clic en **Calcular**. El resultado aparecerá en la caja superior.</li>
            <li>**Nota Importante:** La **Tasa (i)** debe ser ingresada en **formato decimal por período** (ej: 12% anual capitalizable mensualmente = 0.01).</li>
        </ul>

        <h2 id="glosario"> Glosario de Términos</h2>
        
        <table>
            <thead>
                <tr>
                    <th>Término</th>
                    <th>Símbolo</th>
                    <th>Definición</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>**Renta/Pago**</td>
                    <td>R</td>
                    <td>La cantidad de dinero fija que se paga o se recibe periódicamente.</td>
                </tr>
                <tr>
                    <td>**Tasa de Interés por Período**</td>
                    <td>i</td>
                    <td>La tasa de interés aplicada en cada período de pago (debe estar en formato decimal, $i = tasa/frecuencia$).</td>
                </tr>
                <tr>
                    <td>**Número de Períodos**</td>
                    <td>n</td>
                    <td>La cantidad total de pagos o rentas a realizar durante la anualidad.</td>
                </tr>
                <tr>
                    <td>**Valor Actual (Capital)**</td>
                    <td>P</td>
                    <td>El valor total de la anualidad traído al presente.</td>
                </tr>
                <tr>
                    <td>**Monto (Valor Futuro)**</td>
                    <td>F</td>
                    <td>El valor total de la anualidad acumulado al final de todos los períodos.</td>
                </tr>
                <tr>
                    <td>**Anualidad Simple**</td>
                    <td></td>
                    <td>La frecuencia de los pagos coincide con la frecuencia de capitalización.</td>
                </tr>
            </tbody>
        </table>

        <h2 id="formulas">Tabla de Fórmulas Principales (Anualidades Simples)</h2>
        <p>Fórmulas base utilizadas para los cálculos de $F$ y $P$ en esta herramienta. Las fórmulas para $R$ y $n$ se obtienen mediante despeje algebraico.</p>
        
        <table>
            <thead>
                <tr>
                    <th>Variable a Calcular</th>
                    <th>Anualidad Vencida (Ordinaria)</th>
                    <th>Anualidad Anticipada</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Monto ($F$)</td>
                    <td>$$F = R \left[ \frac{(1+i)^n - 1}{i} \right]$$</td>
                    <td>$$F = R \left[ \frac{(1+i)^n - 1}{i} \right] (1+i)$$</td>
                </tr>
                <tr>
                    <td>Valor Actual ($P$)</td>
                    <td>$$P = R \left[ \frac{1 - (1+i)^{-n}}{i} \right]$$</td>
                    <td>$$P = R \left[ \frac{1 - (1+i)^{-n}}{i} \right] (1+i)$$</td>
                </tr>
            </tbody>
        </table>
        
    </div>

    <script src="scripts.js"></script>
</body>
</html>
